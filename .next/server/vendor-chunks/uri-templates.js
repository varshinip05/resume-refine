/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/uri-templates";
exports.ids = ["vendor-chunks/uri-templates"];
exports.modules = {

/***/ "(action-browser)/./node_modules/uri-templates/uri-templates.js":
/*!*****************************************************!*\
  !*** ./node_modules/uri-templates/uri-templates.js ***!
  \*****************************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n})(this, function () {\n\tvar uriTemplateGlobalModifiers = {\n\t\t\"+\": true,\n\t\t\"#\": true,\n\t\t\".\": true,\n\t\t\"/\": true,\n\t\t\";\": true,\n\t\t\"?\": true,\n\t\t\"&\": true\n\t};\n\tvar uriTemplateSuffices = {\n\t\t\"*\": true\n\t};\n\tvar urlEscapedChars = /[:/&?#]/;\n\n\tfunction notReallyPercentEncode(string) {\n\t\treturn encodeURI(string).replace(/%25[0-9][0-9]/g, function (doubleEncoded) {\n\t\t\treturn \"%\" + doubleEncoded.substring(3);\n\t\t});\n\t}\n\n\tfunction isPercentEncoded(string) {\n\t\tstring = string.replace(/%../g, '');\n\t\treturn encodeURIComponent(string) === string;\n\t}\n\n\tfunction uriTemplateSubstitution(spec) {\n\t\tvar modifier = \"\";\n\t\tif (uriTemplateGlobalModifiers[spec.charAt(0)]) {\n\t\t\tmodifier = spec.charAt(0);\n\t\t\tspec = spec.substring(1);\n\t\t}\n\t\tvar separator = \"\";\n\t\tvar prefix = \"\";\n\t\tvar shouldEscape = true;\n\t\tvar showVariables = false;\n\t\tvar trimEmptyString = false;\n\t\tif (modifier == '+') {\n\t\t\tshouldEscape = false;\n\t\t} else if (modifier == \".\") {\n\t\t\tprefix = \".\";\n\t\t\tseparator = \".\";\n\t\t} else if (modifier == \"/\") {\n\t\t\tprefix = \"/\";\n\t\t\tseparator = \"/\";\n\t\t} else if (modifier == '#') {\n\t\t\tprefix = \"#\";\n\t\t\tshouldEscape = false;\n\t\t} else if (modifier == ';') {\n\t\t\tprefix = \";\";\n\t\t\tseparator = \";\",\n\t\t\tshowVariables = true;\n\t\t\ttrimEmptyString = true;\n\t\t} else if (modifier == '?') {\n\t\t\tprefix = \"?\";\n\t\t\tseparator = \"&\",\n\t\t\tshowVariables = true;\n\t\t} else if (modifier == '&') {\n\t\t\tprefix = \"&\";\n\t\t\tseparator = \"&\",\n\t\t\tshowVariables = true;\n\t\t}\n\n\t\tvar varNames = [];\n\t\tvar varList = spec.split(\",\");\n\t\tvar varSpecs = [];\n\t\tvar varSpecMap = {};\n\t\tfor (var i = 0; i < varList.length; i++) {\n\t\t\tvar varName = varList[i];\n\t\t\tvar truncate = null;\n\t\t\tif (varName.indexOf(\":\") != -1) {\n\t\t\t\tvar parts = varName.split(\":\");\n\t\t\t\tvarName = parts[0];\n\t\t\t\ttruncate = parseInt(parts[1]);\n\t\t\t}\n\t\t\tvar suffices = {};\n\t\t\twhile (uriTemplateSuffices[varName.charAt(varName.length - 1)]) {\n\t\t\t\tsuffices[varName.charAt(varName.length - 1)] = true;\n\t\t\t\tvarName = varName.substring(0, varName.length - 1);\n\t\t\t}\n\t\t\tvar varSpec = {\n\t\t\t\ttruncate: truncate,\n\t\t\t\tname: varName,\n\t\t\t\tsuffices: suffices\n\t\t\t};\n\t\t\tvarSpecs.push(varSpec);\n\t\t\tvarSpecMap[varName] = varSpec;\n\t\t\tvarNames.push(varName);\n\t\t}\n\t\tvar subFunction = function (valueFunction) {\n\t\t\tvar result = \"\";\n\t\t\tvar startIndex = 0;\n\t\t\tfor (var i = 0; i < varSpecs.length; i++) {\n\t\t\t\tvar varSpec = varSpecs[i];\n\t\t\t\tvar value = valueFunction(varSpec.name);\n\t\t\t\tif (value == null || (Array.isArray(value) && value.length == 0) || (typeof value == 'object' && Object.keys(value).length == 0)) {\n\t\t\t\t\tstartIndex++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (i == startIndex) {\n\t\t\t\t\tresult += prefix;\n\t\t\t\t} else {\n\t\t\t\t\tresult += (separator || \",\");\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t}\n\t\t\t\t\tfor (var j = 0; j < value.length; j++) {\n\t\t\t\t\t\tif (j > 0) {\n\t\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\t\tif (varSpec.suffices['*'] && showVariables) {\n\t\t\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[j]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[j]);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof value == \"object\") {\n\t\t\t\t\tif (showVariables && !varSpec.suffices['*']) {\n\t\t\t\t\t\tresult += varSpec.name + \"=\";\n\t\t\t\t\t}\n\t\t\t\t\tvar first = true;\n\t\t\t\t\tfor (var key in value) {\n\t\t\t\t\t\tif (!first) {\n\t\t\t\t\t\t\tresult += varSpec.suffices['*'] ? (separator || \",\") : \",\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfirst = false;\n\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(key).replace(/!/g, \"%21\") : notReallyPercentEncode(key);\n\t\t\t\t\t\tresult += varSpec.suffices['*'] ? '=' : \",\";\n\t\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value[key]).replace(/!/g, \"%21\") : notReallyPercentEncode(value[key]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\tresult += varSpec.name;\n\t\t\t\t\t\tif (!trimEmptyString || value != \"\") {\n\t\t\t\t\t\t\tresult += \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (varSpec.truncate != null) {\n\t\t\t\t\t\tvalue = value.substring(0, varSpec.truncate);\n\t\t\t\t\t}\n\t\t\t\t\tresult += shouldEscape ? encodeURIComponent(value).replace(/!/g, \"%21\"): notReallyPercentEncode(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tvar guessFunction = function (stringValue, resultObj, strict) {\n\t\t\tif (prefix) {\n\t\t\t\tstringValue = stringValue.substring(prefix.length);\n\t\t\t}\n\t\t\tif (varSpecs.length == 1 && varSpecs[0].suffices['*']) {\n\t\t\t\tvar varSpec = varSpecs[0];\n\t\t\t\tvar varName = varSpec.name;\n\t\t\t\tvar arrayValue = varSpec.suffices['*'] ? stringValue.split(separator || \",\") : [stringValue];\n\t\t\t\tvar hasEquals = (shouldEscape && stringValue.indexOf('=') != -1);\t// There's otherwise no way to distinguish between \"{value*}\" for arrays and objects\n\t\t\t\tfor (var i = 1; i < arrayValue.length; i++) {\n\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\tif (hasEquals && stringValue.indexOf('=') == -1) {\n\t\t\t\t\t\t// Bit of a hack - if we're expecting \"=\" for key/value pairs, and values can't contain \"=\", then assume a value has been accidentally split\n\t\t\t\t\t\tarrayValue[i - 1] += (separator || \",\") + stringValue;\n\t\t\t\t\t\tarrayValue.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\tif (shouldEscape && stringValue.indexOf('=') != -1) {\n\t\t\t\t\t\thasEquals = true;\n\t\t\t\t\t}\n\t\t\t\t\tvar innerArrayValue = stringValue.split(\",\");\n\t\t\t\t\tif (innerArrayValue.length == 1) {\n\t\t\t\t\t\tarrayValue[i] = innerArrayValue[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarrayValue[i] = innerArrayValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (showVariables || hasEquals) {\n\t\t\t\t\tvar objectValue = resultObj[varName] || {};\n\t\t\t\t\tfor (var j = 0; j < arrayValue.length; j++) {\n\t\t\t\t\t\tvar innerValue = stringValue;\n\t\t\t\t\t\tif (showVariables && !innerValue) {\n\t\t\t\t\t\t\t// The empty string isn't a valid variable, so if our value is zero-length we have nothing\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof arrayValue[j] == \"string\") {\n\t\t\t\t\t\t\tvar stringValue = arrayValue[j];\n\t\t\t\t\t\t\tvar innerVarName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\t\tvar stringValue = stringValue.substring(innerVarName.length + 1);\n\t\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(stringValue)) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstringValue = decodeURIComponent(stringValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinnerValue = stringValue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar stringValue = arrayValue[j][0];\n\t\t\t\t\t\t\tvar innerVarName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\t\tvar stringValue = stringValue.substring(innerVarName.length + 1);\n\t\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(stringValue)) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstringValue = decodeURIComponent(stringValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tarrayValue[j][0] = stringValue;\n\t\t\t\t\t\t\tinnerValue = arrayValue[j];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerVarName)) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinnerVarName = decodeURIComponent(innerVarName);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (objectValue[innerVarName] !== undefined) {\n\t\t\t\t\t\t\tif (Array.isArray(objectValue[innerVarName])) {\n\t\t\t\t\t\t\t\tobjectValue[innerVarName].push(innerValue);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobjectValue[innerVarName] = [objectValue[innerVarName], innerValue];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobjectValue[innerVarName] = innerValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (Object.keys(objectValue).length == 1 && objectValue[varName] !== undefined) {\n\t\t\t\t\t\tresultObj[varName] = objectValue[varName];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresultObj[varName] = objectValue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\tfor (var j = 0; j < arrayValue.length; j++) {\n\t\t\t\t\t\t\tvar innerArrayValue = arrayValue[j];\n\t\t\t\t\t\t\tif (Array.isArray(innerArrayValue)) {\n\t\t\t\t\t\t\t\tfor (var k = 0; k < innerArrayValue.length; k++) {\n\t\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue[k])) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tinnerArrayValue[k] = decodeURIComponent(innerArrayValue[k]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue)) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tarrayValue[j] = decodeURIComponent(innerArrayValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (resultObj[varName] !== undefined) {\n\t\t\t\t\t\tif (Array.isArray(resultObj[varName])) {\n\t\t\t\t\t\t\tresultObj[varName] = resultObj[varName].concat(arrayValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = [resultObj[varName]].concat(arrayValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (arrayValue.length == 1 && !varSpec.suffices['*']) {\n\t\t\t\t\t\t\tresultObj[varName] = arrayValue[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = arrayValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar arrayValue = (varSpecs.length == 1) ? [stringValue] : stringValue.split(separator || \",\");\n\t\t\t\tvar specIndexMap = {};\n\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\t// Try from beginning\n\t\t\t\t\tvar firstStarred = 0;\n\t\t\t\t\tfor (; firstStarred < varSpecs.length - 1 && firstStarred < i; firstStarred++) {\n\t\t\t\t\t\tif (varSpecs[firstStarred].suffices['*']) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (firstStarred == i) {\n\t\t\t\t\t\t// The first [i] of them have no \"*\" suffix\n\t\t\t\t\t\tspecIndexMap[i] = i;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Try from the end\n\t\t\t\t\t\tfor (var lastStarred = varSpecs.length - 1; lastStarred > 0 && (varSpecs.length - lastStarred) < (arrayValue.length - i); lastStarred--) {\n\t\t\t\t\t\t\tif (varSpecs[lastStarred].suffices['*']) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((varSpecs.length - lastStarred) == (arrayValue.length - i)) {\n\t\t\t\t\t\t\t// The last [length - i] of them have no \"*\" suffix\n\t\t\t\t\t\t\tspecIndexMap[i] = lastStarred;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Just give up and use the first one\n\t\t\t\t\tspecIndexMap[i] = firstStarred;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < arrayValue.length; i++) {\n\t\t\t\t\tvar stringValue = arrayValue[i];\n\t\t\t\t\tif (!stringValue && showVariables) {\n\t\t\t\t\t\t// The empty string isn't a valid variable, so if our value is zero-length we have nothing\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar innerArrayValue = stringValue.split(\",\");\n\t\t\t\t\tvar hasEquals = false;\n\n\t\t\t\t\tif (showVariables) {\n\t\t\t\t\t\tvar stringValue = innerArrayValue[0]; // using innerArrayValue\n\t\t\t\t\t\tvar varName = stringValue.split(\"=\", 1)[0];\n\t\t\t\t\t\tvar stringValue = stringValue.substring(varName.length + 1);\n\t\t\t\t\t\tinnerArrayValue[0] = stringValue;\n\t\t\t\t\t\tvar varSpec = varSpecMap[varName] || varSpecs[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar varSpec = varSpecs[specIndexMap[i]];\n\t\t\t\t\t\tvar varName = varSpec.name;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var j = 0; j < innerArrayValue.length; j++) {\n\t\t\t\t\t\tif (shouldEscape) {\n\t\t\t\t\t\t\tif (strict && !isPercentEncoded(innerArrayValue[j])) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tinnerArrayValue[j] = decodeURIComponent(innerArrayValue[j]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((showVariables || varSpec.suffices['*'])&& resultObj[varName] !== undefined) {\n\t\t\t\t\t\tif (Array.isArray(resultObj[varName])) {\n\t\t\t\t\t\t\tresultObj[varName] = resultObj[varName].concat(innerArrayValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = [resultObj[varName]].concat(innerArrayValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (innerArrayValue.length == 1 && !varSpec.suffices['*']) {\n\t\t\t\t\t\t\tresultObj[varName] = innerArrayValue[0];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresultObj[varName] = innerArrayValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 1;\n\t\t};\n\t\treturn {\n\t\t\tvarNames: varNames,\n\t\t\tprefix: prefix,\n\t\t\tsubstitution: subFunction,\n\t\t\tunSubstitution: guessFunction\n\t\t};\n\t}\n\n\tfunction UriTemplate(template) {\n\t\tif (!(this instanceof UriTemplate)) {\n\t\t\treturn new UriTemplate(template);\n\t\t}\n\t\tvar parts = template.split(\"{\");\n\t\tvar textParts = [parts.shift()];\n\t\tvar prefixes = [];\n\t\tvar substitutions = [];\n\t\tvar unSubstitutions = [];\n\t\tvar varNames = [];\n\t\twhile (parts.length > 0) {\n\t\t\tvar part = parts.shift();\n\t\t\tvar spec = part.split(\"}\")[0];\n\t\t\tvar remainder = part.substring(spec.length + 1);\n\t\t\tvar funcs = uriTemplateSubstitution(spec);\n\t\t\tsubstitutions.push(funcs.substitution);\n\t\t\tunSubstitutions.push(funcs.unSubstitution);\n\t\t\tprefixes.push(funcs.prefix);\n\t\t\ttextParts.push(remainder);\n\t\t\tvarNames = varNames.concat(funcs.varNames);\n\t\t}\n\t\tthis.fill = function (valueFunction) {\n\t\t\tif (valueFunction && typeof valueFunction !== 'function') {\n\t\t\t\tvar value = valueFunction;\n\t\t\t\tvalueFunction = function (varName) {\n\t\t\t\t\treturn value[varName];\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar result = textParts[0];\n\t\t\tfor (var i = 0; i < substitutions.length; i++) {\n\t\t\t\tvar substitution = substitutions[i];\n\t\t\t\tresult += substitution(valueFunction);\n\t\t\t\tresult += textParts[i + 1];\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tthis.fromUri = function (substituted, options) {\n\t\t\toptions = options || {};\n\t\t\tvar result = {};\n\t\t\tfor (var i = 0; i < textParts.length; i++) {\n\t\t\t\tvar part = textParts[i];\n\t\t\t\tif (substituted.substring(0, part.length) !== part) {\n\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t}\n\t\t\t\tsubstituted = substituted.substring(part.length);\n\t\t\t\tif (i >= textParts.length - 1) {\n\t\t\t\t\t// We've run out of input - is there any template left?\n\t\t\t\t\tif (substituted == \"\") {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar prefix = prefixes[i];\n\t\t\t\tif (prefix && substituted.substring(0, prefix.length) !== prefix) {\n\t\t\t\t\t// All values are optional - if we have a prefix and it doesn't match, move along\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Find the next part to un-substitute\n\t\t\t\tvar nextPart = textParts[i + 1];\n\t\t\t\tvar offset = i;\n\t\t\t\twhile (true) {\n\t\t\t\t\tif (offset == textParts.length - 2) {\n\t\t\t\t\t\tvar endPart = substituted.substring(substituted.length - nextPart.length);\n\t\t\t\t\t\tif (endPart !== nextPart) {\n\t\t\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar stringValue = substituted.substring(0, substituted.length - nextPart.length);\n\t\t\t\t\t\tsubstituted = endPart;\n\t\t\t\t\t} else if (nextPart) {\n\t\t\t\t\t\tvar nextPartPos = substituted.indexOf(nextPart);\n\t\t\t\t\t\tvar stringValue = substituted.substring(0, nextPartPos);\n\t\t\t\t\t\tsubstituted = substituted.substring(nextPartPos);\n\t\t\t\t\t} else if (prefixes[offset + 1]) {\n\t\t\t\t\t\tvar nextPartPos = substituted.indexOf(prefixes[offset + 1]);\n\t\t\t\t\t\tif (nextPartPos === -1) nextPartPos = substituted.length;\n\t\t\t\t\t\tvar stringValue = substituted.substring(0, nextPartPos);\n\t\t\t\t\t\tsubstituted = substituted.substring(nextPartPos);\n\t\t\t\t\t} else if (textParts.length > offset + 2) {\n\t\t\t\t\t\t// If the separator between this variable and the next is blank (with no prefix), continue onwards\n\t\t\t\t\t\toffset++;\n\t\t\t\t\t\tnextPart = textParts[offset + 1];\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar stringValue = substituted;\n\t\t\t\t\t\tsubstituted = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (!unSubstitutions[i](stringValue, result, options.strict)) {\n\t\t\t\t\treturn /*undefined*/;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tthis.varNames = varNames;\n\t\tthis.template = template;\n\t}\n\tUriTemplate.prototype = {\n\t\ttoString: function () {\n\t\t\treturn this.template;\n\t\t},\n\t\tfillFromObject: function (obj) {\n\t\t\treturn this.fill(obj);\n\t\t},\n\t\ttest: function (uri, options) {\n\t\t\treturn !!this.fromUri(uri, options)\n\t\t}\n\t};\n\n\treturn UriTemplate;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91cmktdGVtcGxhdGVzL3VyaS10ZW1wbGF0ZXMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxLQUFLLElBQTBDO0FBQy9DLEVBQUUsaUNBQXdCLEVBQUUsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxrR0FBQztBQUN0QyxHQUFHLEtBQUssRUFJTjtBQUNGLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUksdUJBQXVCO0FBQzNCLGNBQWM7QUFDZCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0JBQW9CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxQkFBcUI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsa0JBQWtCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtB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O0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxIUFxcRG93bmxvYWRzXFxkb3dubG9hZFxcc3JjXFxub2RlX21vZHVsZXNcXHVyaS10ZW1wbGF0ZXNcXHVyaS10ZW1wbGF0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZSgndXJpLXRlbXBsYXRlcycsIFtdLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyl7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0Z2xvYmFsLlVyaVRlbXBsYXRlID0gZmFjdG9yeSgpO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbiAoKSB7XG5cdHZhciB1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVycyA9IHtcblx0XHRcIitcIjogdHJ1ZSxcblx0XHRcIiNcIjogdHJ1ZSxcblx0XHRcIi5cIjogdHJ1ZSxcblx0XHRcIi9cIjogdHJ1ZSxcblx0XHRcIjtcIjogdHJ1ZSxcblx0XHRcIj9cIjogdHJ1ZSxcblx0XHRcIiZcIjogdHJ1ZVxuXHR9O1xuXHR2YXIgdXJpVGVtcGxhdGVTdWZmaWNlcyA9IHtcblx0XHRcIipcIjogdHJ1ZVxuXHR9O1xuXHR2YXIgdXJsRXNjYXBlZENoYXJzID0gL1s6LyY/I10vO1xuXG5cdGZ1bmN0aW9uIG5vdFJlYWxseVBlcmNlbnRFbmNvZGUoc3RyaW5nKSB7XG5cdFx0cmV0dXJuIGVuY29kZVVSSShzdHJpbmcpLnJlcGxhY2UoLyUyNVswLTldWzAtOV0vZywgZnVuY3Rpb24gKGRvdWJsZUVuY29kZWQpIHtcblx0XHRcdHJldHVybiBcIiVcIiArIGRvdWJsZUVuY29kZWQuc3Vic3RyaW5nKDMpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNQZXJjZW50RW5jb2RlZChzdHJpbmcpIHtcblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvJS4uL2csICcnKTtcblx0XHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykgPT09IHN0cmluZztcblx0fVxuXG5cdGZ1bmN0aW9uIHVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uKHNwZWMpIHtcblx0XHR2YXIgbW9kaWZpZXIgPSBcIlwiO1xuXHRcdGlmICh1cmlUZW1wbGF0ZUdsb2JhbE1vZGlmaWVyc1tzcGVjLmNoYXJBdCgwKV0pIHtcblx0XHRcdG1vZGlmaWVyID0gc3BlYy5jaGFyQXQoMCk7XG5cdFx0XHRzcGVjID0gc3BlYy5zdWJzdHJpbmcoMSk7XG5cdFx0fVxuXHRcdHZhciBzZXBhcmF0b3IgPSBcIlwiO1xuXHRcdHZhciBwcmVmaXggPSBcIlwiO1xuXHRcdHZhciBzaG91bGRFc2NhcGUgPSB0cnVlO1xuXHRcdHZhciBzaG93VmFyaWFibGVzID0gZmFsc2U7XG5cdFx0dmFyIHRyaW1FbXB0eVN0cmluZyA9IGZhbHNlO1xuXHRcdGlmIChtb2RpZmllciA9PSAnKycpIHtcblx0XHRcdHNob3VsZEVzY2FwZSA9IGZhbHNlO1xuXHRcdH0gZWxzZSBpZiAobW9kaWZpZXIgPT0gXCIuXCIpIHtcblx0XHRcdHByZWZpeCA9IFwiLlwiO1xuXHRcdFx0c2VwYXJhdG9yID0gXCIuXCI7XG5cdFx0fSBlbHNlIGlmIChtb2RpZmllciA9PSBcIi9cIikge1xuXHRcdFx0cHJlZml4ID0gXCIvXCI7XG5cdFx0XHRzZXBhcmF0b3IgPSBcIi9cIjtcblx0XHR9IGVsc2UgaWYgKG1vZGlmaWVyID09ICcjJykge1xuXHRcdFx0cHJlZml4ID0gXCIjXCI7XG5cdFx0XHRzaG91bGRFc2NhcGUgPSBmYWxzZTtcblx0XHR9IGVsc2UgaWYgKG1vZGlmaWVyID09ICc7Jykge1xuXHRcdFx0cHJlZml4ID0gXCI7XCI7XG5cdFx0XHRzZXBhcmF0b3IgPSBcIjtcIixcblx0XHRcdHNob3dWYXJpYWJsZXMgPSB0cnVlO1xuXHRcdFx0dHJpbUVtcHR5U3RyaW5nID0gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKG1vZGlmaWVyID09ICc/Jykge1xuXHRcdFx0cHJlZml4ID0gXCI/XCI7XG5cdFx0XHRzZXBhcmF0b3IgPSBcIiZcIixcblx0XHRcdHNob3dWYXJpYWJsZXMgPSB0cnVlO1xuXHRcdH0gZWxzZSBpZiAobW9kaWZpZXIgPT0gJyYnKSB7XG5cdFx0XHRwcmVmaXggPSBcIiZcIjtcblx0XHRcdHNlcGFyYXRvciA9IFwiJlwiLFxuXHRcdFx0c2hvd1ZhcmlhYmxlcyA9IHRydWU7XG5cdFx0fVxuXG5cdFx0dmFyIHZhck5hbWVzID0gW107XG5cdFx0dmFyIHZhckxpc3QgPSBzcGVjLnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgdmFyU3BlY3MgPSBbXTtcblx0XHR2YXIgdmFyU3BlY01hcCA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdmFyTGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHZhck5hbWUgPSB2YXJMaXN0W2ldO1xuXHRcdFx0dmFyIHRydW5jYXRlID0gbnVsbDtcblx0XHRcdGlmICh2YXJOYW1lLmluZGV4T2YoXCI6XCIpICE9IC0xKSB7XG5cdFx0XHRcdHZhciBwYXJ0cyA9IHZhck5hbWUuc3BsaXQoXCI6XCIpO1xuXHRcdFx0XHR2YXJOYW1lID0gcGFydHNbMF07XG5cdFx0XHRcdHRydW5jYXRlID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHN1ZmZpY2VzID0ge307XG5cdFx0XHR3aGlsZSAodXJpVGVtcGxhdGVTdWZmaWNlc1t2YXJOYW1lLmNoYXJBdCh2YXJOYW1lLmxlbmd0aCAtIDEpXSkge1xuXHRcdFx0XHRzdWZmaWNlc1t2YXJOYW1lLmNoYXJBdCh2YXJOYW1lLmxlbmd0aCAtIDEpXSA9IHRydWU7XG5cdFx0XHRcdHZhck5hbWUgPSB2YXJOYW1lLnN1YnN0cmluZygwLCB2YXJOYW1lLmxlbmd0aCAtIDEpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIHZhclNwZWMgPSB7XG5cdFx0XHRcdHRydW5jYXRlOiB0cnVuY2F0ZSxcblx0XHRcdFx0bmFtZTogdmFyTmFtZSxcblx0XHRcdFx0c3VmZmljZXM6IHN1ZmZpY2VzXG5cdFx0XHR9O1xuXHRcdFx0dmFyU3BlY3MucHVzaCh2YXJTcGVjKTtcblx0XHRcdHZhclNwZWNNYXBbdmFyTmFtZV0gPSB2YXJTcGVjO1xuXHRcdFx0dmFyTmFtZXMucHVzaCh2YXJOYW1lKTtcblx0XHR9XG5cdFx0dmFyIHN1YkZ1bmN0aW9uID0gZnVuY3Rpb24gKHZhbHVlRnVuY3Rpb24pIHtcblx0XHRcdHZhciByZXN1bHQgPSBcIlwiO1xuXHRcdFx0dmFyIHN0YXJ0SW5kZXggPSAwO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB2YXJTcGVjcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHR2YXIgdmFyU3BlYyA9IHZhclNwZWNzW2ldO1xuXHRcdFx0XHR2YXIgdmFsdWUgPSB2YWx1ZUZ1bmN0aW9uKHZhclNwZWMubmFtZSk7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PSBudWxsIHx8IChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT0gMCkgfHwgKHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09IDApKSB7XG5cdFx0XHRcdFx0c3RhcnRJbmRleCsrO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChpID09IHN0YXJ0SW5kZXgpIHtcblx0XHRcdFx0XHRyZXN1bHQgKz0gcHJlZml4O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc3VsdCArPSAoc2VwYXJhdG9yIHx8IFwiLFwiKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcykge1xuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZSArIFwiPVwiO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHZhbHVlLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRpZiAoaiA+IDApIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/IChzZXBhcmF0b3IgfHwgXCIsXCIpIDogXCIsXCI7XG5cdFx0XHRcdFx0XHRcdGlmICh2YXJTcGVjLnN1ZmZpY2VzWycqJ10gJiYgc2hvd1ZhcmlhYmxlcykge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZVtqXSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKSA6IG5vdFJlYWxseVBlcmNlbnRFbmNvZGUodmFsdWVbal0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIikge1xuXHRcdFx0XHRcdGlmIChzaG93VmFyaWFibGVzICYmICF2YXJTcGVjLnN1ZmZpY2VzWycqJ10pIHtcblx0XHRcdFx0XHRcdHJlc3VsdCArPSB2YXJTcGVjLm5hbWUgKyBcIj1cIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyIGZpcnN0ID0gdHJ1ZTtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcblx0XHRcdFx0XHRcdGlmICghZmlyc3QpIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMuc3VmZmljZXNbJyonXSA/IChzZXBhcmF0b3IgfHwgXCIsXCIpIDogXCIsXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRmaXJzdCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudChrZXkpLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKGtleSk7XG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gdmFyU3BlYy5zdWZmaWNlc1snKiddID8gJz0nIDogXCIsXCI7XG5cdFx0XHRcdFx0XHRyZXN1bHQgKz0gc2hvdWxkRXNjYXBlID8gZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2tleV0pLnJlcGxhY2UoLyEvZywgXCIlMjFcIikgOiBub3RSZWFsbHlQZXJjZW50RW5jb2RlKHZhbHVlW2tleV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoc2hvd1ZhcmlhYmxlcykge1xuXHRcdFx0XHRcdFx0cmVzdWx0ICs9IHZhclNwZWMubmFtZTtcblx0XHRcdFx0XHRcdGlmICghdHJpbUVtcHR5U3RyaW5nIHx8IHZhbHVlICE9IFwiXCIpIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0ICs9IFwiPVwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAodmFyU3BlYy50cnVuY2F0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLCB2YXJTcGVjLnRydW5jYXRlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzdWx0ICs9IHNob3VsZEVzY2FwZSA/IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkucmVwbGFjZSgvIS9nLCBcIiUyMVwiKTogbm90UmVhbGx5UGVyY2VudEVuY29kZSh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0XHR2YXIgZ3Vlc3NGdW5jdGlvbiA9IGZ1bmN0aW9uIChzdHJpbmdWYWx1ZSwgcmVzdWx0T2JqLCBzdHJpY3QpIHtcblx0XHRcdGlmIChwcmVmaXgpIHtcblx0XHRcdFx0c3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZS5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAodmFyU3BlY3MubGVuZ3RoID09IDEgJiYgdmFyU3BlY3NbMF0uc3VmZmljZXNbJyonXSkge1xuXHRcdFx0XHR2YXIgdmFyU3BlYyA9IHZhclNwZWNzWzBdO1xuXHRcdFx0XHR2YXIgdmFyTmFtZSA9IHZhclNwZWMubmFtZTtcblx0XHRcdFx0dmFyIGFycmF5VmFsdWUgPSB2YXJTcGVjLnN1ZmZpY2VzWycqJ10gPyBzdHJpbmdWYWx1ZS5zcGxpdChzZXBhcmF0b3IgfHwgXCIsXCIpIDogW3N0cmluZ1ZhbHVlXTtcblx0XHRcdFx0dmFyIGhhc0VxdWFscyA9IChzaG91bGRFc2NhcGUgJiYgc3RyaW5nVmFsdWUuaW5kZXhPZignPScpICE9IC0xKTtcdC8vIFRoZXJlJ3Mgb3RoZXJ3aXNlIG5vIHdheSB0byBkaXN0aW5ndWlzaCBiZXR3ZWVuIFwie3ZhbHVlKn1cIiBmb3IgYXJyYXlzIGFuZCBvYmplY3RzXG5cdFx0XHRcdGZvciAodmFyIGkgPSAxOyBpIDwgYXJyYXlWYWx1ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHZhciBzdHJpbmdWYWx1ZSA9IGFycmF5VmFsdWVbaV07XG5cdFx0XHRcdFx0aWYgKGhhc0VxdWFscyAmJiBzdHJpbmdWYWx1ZS5pbmRleE9mKCc9JykgPT0gLTEpIHtcblx0XHRcdFx0XHRcdC8vIEJpdCBvZiBhIGhhY2sgLSBpZiB3ZSdyZSBleHBlY3RpbmcgXCI9XCIgZm9yIGtleS92YWx1ZSBwYWlycywgYW5kIHZhbHVlcyBjYW4ndCBjb250YWluIFwiPVwiLCB0aGVuIGFzc3VtZSBhIHZhbHVlIGhhcyBiZWVuIGFjY2lkZW50YWxseSBzcGxpdFxuXHRcdFx0XHRcdFx0YXJyYXlWYWx1ZVtpIC0gMV0gKz0gKHNlcGFyYXRvciB8fCBcIixcIikgKyBzdHJpbmdWYWx1ZTtcblx0XHRcdFx0XHRcdGFycmF5VmFsdWUuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdFx0aS0tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5VmFsdWUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR2YXIgc3RyaW5nVmFsdWUgPSBhcnJheVZhbHVlW2ldO1xuXHRcdFx0XHRcdGlmIChzaG91bGRFc2NhcGUgJiYgc3RyaW5nVmFsdWUuaW5kZXhPZignPScpICE9IC0xKSB7XG5cdFx0XHRcdFx0XHRoYXNFcXVhbHMgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YXIgaW5uZXJBcnJheVZhbHVlID0gc3RyaW5nVmFsdWUuc3BsaXQoXCIsXCIpO1xuXHRcdFx0XHRcdGlmIChpbm5lckFycmF5VmFsdWUubGVuZ3RoID09IDEpIHtcblx0XHRcdFx0XHRcdGFycmF5VmFsdWVbaV0gPSBpbm5lckFycmF5VmFsdWVbMF07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGFycmF5VmFsdWVbaV0gPSBpbm5lckFycmF5VmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNob3dWYXJpYWJsZXMgfHwgaGFzRXF1YWxzKSB7XG5cdFx0XHRcdFx0dmFyIG9iamVjdFZhbHVlID0gcmVzdWx0T2JqW3Zhck5hbWVdIHx8IHt9O1xuXHRcdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgYXJyYXlWYWx1ZS5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdFx0dmFyIGlubmVyVmFsdWUgPSBzdHJpbmdWYWx1ZTtcblx0XHRcdFx0XHRcdGlmIChzaG93VmFyaWFibGVzICYmICFpbm5lclZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFRoZSBlbXB0eSBzdHJpbmcgaXNuJ3QgYSB2YWxpZCB2YXJpYWJsZSwgc28gaWYgb3VyIHZhbHVlIGlzIHplcm8tbGVuZ3RoIHdlIGhhdmUgbm90aGluZ1xuXHRcdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgYXJyYXlWYWx1ZVtqXSA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBzdHJpbmdWYWx1ZSA9IGFycmF5VmFsdWVbal07XG5cdFx0XHRcdFx0XHRcdHZhciBpbm5lclZhck5hbWUgPSBzdHJpbmdWYWx1ZS5zcGxpdChcIj1cIiwgMSlbMF07XG5cdFx0XHRcdFx0XHRcdHZhciBzdHJpbmdWYWx1ZSA9IHN0cmluZ1ZhbHVlLnN1YnN0cmluZyhpbm5lclZhck5hbWUubGVuZ3RoICsgMSk7XG5cdFx0XHRcdFx0XHRcdGlmIChzaG91bGRFc2NhcGUpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoc3RyaWN0ICYmICFpc1BlcmNlbnRFbmNvZGVkKHN0cmluZ1ZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRzdHJpbmdWYWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudChzdHJpbmdWYWx1ZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aW5uZXJWYWx1ZSA9IHN0cmluZ1ZhbHVlO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dmFyIHN0cmluZ1ZhbHVlID0gYXJyYXlWYWx1ZVtqXVswXTtcblx0XHRcdFx0XHRcdFx0dmFyIGlubmVyVmFyTmFtZSA9IHN0cmluZ1ZhbHVlLnNwbGl0KFwiPVwiLCAxKVswXTtcblx0XHRcdFx0XHRcdFx0dmFyIHN0cmluZ1ZhbHVlID0gc3RyaW5nVmFsdWUuc3Vic3RyaW5nKGlubmVyVmFyTmFtZS5sZW5ndGggKyAxKTtcblx0XHRcdFx0XHRcdFx0aWYgKHNob3VsZEVzY2FwZSkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzdHJpY3QgJiYgIWlzUGVyY2VudEVuY29kZWQoc3RyaW5nVmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHN0cmluZ1ZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHN0cmluZ1ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRhcnJheVZhbHVlW2pdWzBdID0gc3RyaW5nVmFsdWU7XG5cdFx0XHRcdFx0XHRcdGlubmVyVmFsdWUgPSBhcnJheVZhbHVlW2pdO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKHNob3VsZEVzY2FwZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoc3RyaWN0ICYmICFpc1BlcmNlbnRFbmNvZGVkKGlubmVyVmFyTmFtZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aW5uZXJWYXJOYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGlubmVyVmFyTmFtZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChvYmplY3RWYWx1ZVtpbm5lclZhck5hbWVdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkob2JqZWN0VmFsdWVbaW5uZXJWYXJOYW1lXSkpIHtcblx0XHRcdFx0XHRcdFx0XHRvYmplY3RWYWx1ZVtpbm5lclZhck5hbWVdLnB1c2goaW5uZXJWYWx1ZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0b2JqZWN0VmFsdWVbaW5uZXJWYXJOYW1lXSA9IFtvYmplY3RWYWx1ZVtpbm5lclZhck5hbWVdLCBpbm5lclZhbHVlXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0b2JqZWN0VmFsdWVbaW5uZXJWYXJOYW1lXSA9IGlubmVyVmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChPYmplY3Qua2V5cyhvYmplY3RWYWx1ZSkubGVuZ3RoID09IDEgJiYgb2JqZWN0VmFsdWVbdmFyTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0cmVzdWx0T2JqW3Zhck5hbWVdID0gb2JqZWN0VmFsdWVbdmFyTmFtZV07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJlc3VsdE9ialt2YXJOYW1lXSA9IG9iamVjdFZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoc2hvdWxkRXNjYXBlKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5VmFsdWUubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdFx0dmFyIGlubmVyQXJyYXlWYWx1ZSA9IGFycmF5VmFsdWVbal07XG5cdFx0XHRcdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KGlubmVyQXJyYXlWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IGlubmVyQXJyYXlWYWx1ZS5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHN0cmljdCAmJiAhaXNQZXJjZW50RW5jb2RlZChpbm5lckFycmF5VmFsdWVba10pKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGlubmVyQXJyYXlWYWx1ZVtrXSA9IGRlY29kZVVSSUNvbXBvbmVudChpbm5lckFycmF5VmFsdWVba10pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoc3RyaWN0ICYmICFpc1BlcmNlbnRFbmNvZGVkKGlubmVyQXJyYXlWYWx1ZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YXJyYXlWYWx1ZVtqXSA9IGRlY29kZVVSSUNvbXBvbmVudChpbm5lckFycmF5VmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHJlc3VsdE9ialt2YXJOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheShyZXN1bHRPYmpbdmFyTmFtZV0pKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdE9ialt2YXJOYW1lXSA9IHJlc3VsdE9ialt2YXJOYW1lXS5jb25jYXQoYXJyYXlWYWx1ZSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRPYmpbdmFyTmFtZV0gPSBbcmVzdWx0T2JqW3Zhck5hbWVdXS5jb25jYXQoYXJyYXlWYWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChhcnJheVZhbHVlLmxlbmd0aCA9PSAxICYmICF2YXJTcGVjLnN1ZmZpY2VzWycqJ10pIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0T2JqW3Zhck5hbWVdID0gYXJyYXlWYWx1ZVswXTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdE9ialt2YXJOYW1lXSA9IGFycmF5VmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgYXJyYXlWYWx1ZSA9ICh2YXJTcGVjcy5sZW5ndGggPT0gMSkgPyBbc3RyaW5nVmFsdWVdIDogc3RyaW5nVmFsdWUuc3BsaXQoc2VwYXJhdG9yIHx8IFwiLFwiKTtcblx0XHRcdFx0dmFyIHNwZWNJbmRleE1hcCA9IHt9O1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5VmFsdWUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHQvLyBUcnkgZnJvbSBiZWdpbm5pbmdcblx0XHRcdFx0XHR2YXIgZmlyc3RTdGFycmVkID0gMDtcblx0XHRcdFx0XHRmb3IgKDsgZmlyc3RTdGFycmVkIDwgdmFyU3BlY3MubGVuZ3RoIC0gMSAmJiBmaXJzdFN0YXJyZWQgPCBpOyBmaXJzdFN0YXJyZWQrKykge1xuXHRcdFx0XHRcdFx0aWYgKHZhclNwZWNzW2ZpcnN0U3RhcnJlZF0uc3VmZmljZXNbJyonXSkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGZpcnN0U3RhcnJlZCA9PSBpKSB7XG5cdFx0XHRcdFx0XHQvLyBUaGUgZmlyc3QgW2ldIG9mIHRoZW0gaGF2ZSBubyBcIipcIiBzdWZmaXhcblx0XHRcdFx0XHRcdHNwZWNJbmRleE1hcFtpXSA9IGk7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gVHJ5IGZyb20gdGhlIGVuZFxuXHRcdFx0XHRcdFx0Zm9yICh2YXIgbGFzdFN0YXJyZWQgPSB2YXJTcGVjcy5sZW5ndGggLSAxOyBsYXN0U3RhcnJlZCA+IDAgJiYgKHZhclNwZWNzLmxlbmd0aCAtIGxhc3RTdGFycmVkKSA8IChhcnJheVZhbHVlLmxlbmd0aCAtIGkpOyBsYXN0U3RhcnJlZC0tKSB7XG5cdFx0XHRcdFx0XHRcdGlmICh2YXJTcGVjc1tsYXN0U3RhcnJlZF0uc3VmZmljZXNbJyonXSkge1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoKHZhclNwZWNzLmxlbmd0aCAtIGxhc3RTdGFycmVkKSA9PSAoYXJyYXlWYWx1ZS5sZW5ndGggLSBpKSkge1xuXHRcdFx0XHRcdFx0XHQvLyBUaGUgbGFzdCBbbGVuZ3RoIC0gaV0gb2YgdGhlbSBoYXZlIG5vIFwiKlwiIHN1ZmZpeFxuXHRcdFx0XHRcdFx0XHRzcGVjSW5kZXhNYXBbaV0gPSBsYXN0U3RhcnJlZDtcblx0XHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIEp1c3QgZ2l2ZSB1cCBhbmQgdXNlIHRoZSBmaXJzdCBvbmVcblx0XHRcdFx0XHRzcGVjSW5kZXhNYXBbaV0gPSBmaXJzdFN0YXJyZWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheVZhbHVlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0dmFyIHN0cmluZ1ZhbHVlID0gYXJyYXlWYWx1ZVtpXTtcblx0XHRcdFx0XHRpZiAoIXN0cmluZ1ZhbHVlICYmIHNob3dWYXJpYWJsZXMpIHtcblx0XHRcdFx0XHRcdC8vIFRoZSBlbXB0eSBzdHJpbmcgaXNuJ3QgYSB2YWxpZCB2YXJpYWJsZSwgc28gaWYgb3VyIHZhbHVlIGlzIHplcm8tbGVuZ3RoIHdlIGhhdmUgbm90aGluZ1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHZhciBpbm5lckFycmF5VmFsdWUgPSBzdHJpbmdWYWx1ZS5zcGxpdChcIixcIik7XG5cdFx0XHRcdFx0dmFyIGhhc0VxdWFscyA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKHNob3dWYXJpYWJsZXMpIHtcblx0XHRcdFx0XHRcdHZhciBzdHJpbmdWYWx1ZSA9IGlubmVyQXJyYXlWYWx1ZVswXTsgLy8gdXNpbmcgaW5uZXJBcnJheVZhbHVlXG5cdFx0XHRcdFx0XHR2YXIgdmFyTmFtZSA9IHN0cmluZ1ZhbHVlLnNwbGl0KFwiPVwiLCAxKVswXTtcblx0XHRcdFx0XHRcdHZhciBzdHJpbmdWYWx1ZSA9IHN0cmluZ1ZhbHVlLnN1YnN0cmluZyh2YXJOYW1lLmxlbmd0aCArIDEpO1xuXHRcdFx0XHRcdFx0aW5uZXJBcnJheVZhbHVlWzBdID0gc3RyaW5nVmFsdWU7XG5cdFx0XHRcdFx0XHR2YXIgdmFyU3BlYyA9IHZhclNwZWNNYXBbdmFyTmFtZV0gfHwgdmFyU3BlY3NbMF07XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHZhciB2YXJTcGVjID0gdmFyU3BlY3Nbc3BlY0luZGV4TWFwW2ldXTtcblx0XHRcdFx0XHRcdHZhciB2YXJOYW1lID0gdmFyU3BlYy5uYW1lO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgaW5uZXJBcnJheVZhbHVlLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRpZiAoc2hvdWxkRXNjYXBlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChzdHJpY3QgJiYgIWlzUGVyY2VudEVuY29kZWQoaW5uZXJBcnJheVZhbHVlW2pdKSkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpbm5lckFycmF5VmFsdWVbal0gPSBkZWNvZGVVUklDb21wb25lbnQoaW5uZXJBcnJheVZhbHVlW2pdKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoKHNob3dWYXJpYWJsZXMgfHwgdmFyU3BlYy5zdWZmaWNlc1snKiddKSYmIHJlc3VsdE9ialt2YXJOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheShyZXN1bHRPYmpbdmFyTmFtZV0pKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdE9ialt2YXJOYW1lXSA9IHJlc3VsdE9ialt2YXJOYW1lXS5jb25jYXQoaW5uZXJBcnJheVZhbHVlKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdE9ialt2YXJOYW1lXSA9IFtyZXN1bHRPYmpbdmFyTmFtZV1dLmNvbmNhdChpbm5lckFycmF5VmFsdWUpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoaW5uZXJBcnJheVZhbHVlLmxlbmd0aCA9PSAxICYmICF2YXJTcGVjLnN1ZmZpY2VzWycqJ10pIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0T2JqW3Zhck5hbWVdID0gaW5uZXJBcnJheVZhbHVlWzBdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmVzdWx0T2JqW3Zhck5hbWVdID0gaW5uZXJBcnJheVZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIDE7XG5cdFx0fTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dmFyTmFtZXM6IHZhck5hbWVzLFxuXHRcdFx0cHJlZml4OiBwcmVmaXgsXG5cdFx0XHRzdWJzdGl0dXRpb246IHN1YkZ1bmN0aW9uLFxuXHRcdFx0dW5TdWJzdGl0dXRpb246IGd1ZXNzRnVuY3Rpb25cblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gVXJpVGVtcGxhdGUodGVtcGxhdGUpIHtcblx0XHRpZiAoISh0aGlzIGluc3RhbmNlb2YgVXJpVGVtcGxhdGUpKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFVyaVRlbXBsYXRlKHRlbXBsYXRlKTtcblx0XHR9XG5cdFx0dmFyIHBhcnRzID0gdGVtcGxhdGUuc3BsaXQoXCJ7XCIpO1xuXHRcdHZhciB0ZXh0UGFydHMgPSBbcGFydHMuc2hpZnQoKV07XG5cdFx0dmFyIHByZWZpeGVzID0gW107XG5cdFx0dmFyIHN1YnN0aXR1dGlvbnMgPSBbXTtcblx0XHR2YXIgdW5TdWJzdGl0dXRpb25zID0gW107XG5cdFx0dmFyIHZhck5hbWVzID0gW107XG5cdFx0d2hpbGUgKHBhcnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdHZhciBwYXJ0ID0gcGFydHMuc2hpZnQoKTtcblx0XHRcdHZhciBzcGVjID0gcGFydC5zcGxpdChcIn1cIilbMF07XG5cdFx0XHR2YXIgcmVtYWluZGVyID0gcGFydC5zdWJzdHJpbmcoc3BlYy5sZW5ndGggKyAxKTtcblx0XHRcdHZhciBmdW5jcyA9IHVyaVRlbXBsYXRlU3Vic3RpdHV0aW9uKHNwZWMpO1xuXHRcdFx0c3Vic3RpdHV0aW9ucy5wdXNoKGZ1bmNzLnN1YnN0aXR1dGlvbik7XG5cdFx0XHR1blN1YnN0aXR1dGlvbnMucHVzaChmdW5jcy51blN1YnN0aXR1dGlvbik7XG5cdFx0XHRwcmVmaXhlcy5wdXNoKGZ1bmNzLnByZWZpeCk7XG5cdFx0XHR0ZXh0UGFydHMucHVzaChyZW1haW5kZXIpO1xuXHRcdFx0dmFyTmFtZXMgPSB2YXJOYW1lcy5jb25jYXQoZnVuY3MudmFyTmFtZXMpO1xuXHRcdH1cblx0XHR0aGlzLmZpbGwgPSBmdW5jdGlvbiAodmFsdWVGdW5jdGlvbikge1xuXHRcdFx0aWYgKHZhbHVlRnVuY3Rpb24gJiYgdHlwZW9mIHZhbHVlRnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0dmFyIHZhbHVlID0gdmFsdWVGdW5jdGlvbjtcblx0XHRcdFx0dmFsdWVGdW5jdGlvbiA9IGZ1bmN0aW9uICh2YXJOYW1lKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlW3Zhck5hbWVdO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVzdWx0ID0gdGV4dFBhcnRzWzBdO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzdGl0dXRpb25zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBzdWJzdGl0dXRpb24gPSBzdWJzdGl0dXRpb25zW2ldO1xuXHRcdFx0XHRyZXN1bHQgKz0gc3Vic3RpdHV0aW9uKHZhbHVlRnVuY3Rpb24pO1xuXHRcdFx0XHRyZXN1bHQgKz0gdGV4dFBhcnRzW2kgKyAxXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fTtcblx0XHR0aGlzLmZyb21VcmkgPSBmdW5jdGlvbiAoc3Vic3RpdHV0ZWQsIG9wdGlvbnMpIHtcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcdFx0dmFyIHJlc3VsdCA9IHt9O1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0UGFydHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFyIHBhcnQgPSB0ZXh0UGFydHNbaV07XG5cdFx0XHRcdGlmIChzdWJzdGl0dXRlZC5zdWJzdHJpbmcoMCwgcGFydC5sZW5ndGgpICE9PSBwYXJ0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIC8qdW5kZWZpbmVkKi87XG5cdFx0XHRcdH1cblx0XHRcdFx0c3Vic3RpdHV0ZWQgPSBzdWJzdGl0dXRlZC5zdWJzdHJpbmcocGFydC5sZW5ndGgpO1xuXHRcdFx0XHRpZiAoaSA+PSB0ZXh0UGFydHMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdC8vIFdlJ3ZlIHJ1biBvdXQgb2YgaW5wdXQgLSBpcyB0aGVyZSBhbnkgdGVtcGxhdGUgbGVmdD9cblx0XHRcdFx0XHRpZiAoc3Vic3RpdHV0ZWQgPT0gXCJcIikge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiAvKnVuZGVmaW5lZCovO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBwcmVmaXggPSBwcmVmaXhlc1tpXTtcblx0XHRcdFx0aWYgKHByZWZpeCAmJiBzdWJzdGl0dXRlZC5zdWJzdHJpbmcoMCwgcHJlZml4Lmxlbmd0aCkgIT09IHByZWZpeCkge1xuXHRcdFx0XHRcdC8vIEFsbCB2YWx1ZXMgYXJlIG9wdGlvbmFsIC0gaWYgd2UgaGF2ZSBhIHByZWZpeCBhbmQgaXQgZG9lc24ndCBtYXRjaCwgbW92ZSBhbG9uZ1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRmluZCB0aGUgbmV4dCBwYXJ0IHRvIHVuLXN1YnN0aXR1dGVcblx0XHRcdFx0dmFyIG5leHRQYXJ0ID0gdGV4dFBhcnRzW2kgKyAxXTtcblx0XHRcdFx0dmFyIG9mZnNldCA9IGk7XG5cdFx0XHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRcdFx0aWYgKG9mZnNldCA9PSB0ZXh0UGFydHMubGVuZ3RoIC0gMikge1xuXHRcdFx0XHRcdFx0dmFyIGVuZFBhcnQgPSBzdWJzdGl0dXRlZC5zdWJzdHJpbmcoc3Vic3RpdHV0ZWQubGVuZ3RoIC0gbmV4dFBhcnQubGVuZ3RoKTtcblx0XHRcdFx0XHRcdGlmIChlbmRQYXJ0ICE9PSBuZXh0UGFydCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gLyp1bmRlZmluZWQqLztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBzdHJpbmdWYWx1ZSA9IHN1YnN0aXR1dGVkLnN1YnN0cmluZygwLCBzdWJzdGl0dXRlZC5sZW5ndGggLSBuZXh0UGFydC5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0c3Vic3RpdHV0ZWQgPSBlbmRQYXJ0O1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobmV4dFBhcnQpIHtcblx0XHRcdFx0XHRcdHZhciBuZXh0UGFydFBvcyA9IHN1YnN0aXR1dGVkLmluZGV4T2YobmV4dFBhcnQpO1xuXHRcdFx0XHRcdFx0dmFyIHN0cmluZ1ZhbHVlID0gc3Vic3RpdHV0ZWQuc3Vic3RyaW5nKDAsIG5leHRQYXJ0UG9zKTtcblx0XHRcdFx0XHRcdHN1YnN0aXR1dGVkID0gc3Vic3RpdHV0ZWQuc3Vic3RyaW5nKG5leHRQYXJ0UG9zKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHByZWZpeGVzW29mZnNldCArIDFdKSB7XG5cdFx0XHRcdFx0XHR2YXIgbmV4dFBhcnRQb3MgPSBzdWJzdGl0dXRlZC5pbmRleE9mKHByZWZpeGVzW29mZnNldCArIDFdKTtcblx0XHRcdFx0XHRcdGlmIChuZXh0UGFydFBvcyA9PT0gLTEpIG5leHRQYXJ0UG9zID0gc3Vic3RpdHV0ZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0dmFyIHN0cmluZ1ZhbHVlID0gc3Vic3RpdHV0ZWQuc3Vic3RyaW5nKDAsIG5leHRQYXJ0UG9zKTtcblx0XHRcdFx0XHRcdHN1YnN0aXR1dGVkID0gc3Vic3RpdHV0ZWQuc3Vic3RyaW5nKG5leHRQYXJ0UG9zKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHRleHRQYXJ0cy5sZW5ndGggPiBvZmZzZXQgKyAyKSB7XG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgc2VwYXJhdG9yIGJldHdlZW4gdGhpcyB2YXJpYWJsZSBhbmQgdGhlIG5leHQgaXMgYmxhbmsgKHdpdGggbm8gcHJlZml4KSwgY29udGludWUgb253YXJkc1xuXHRcdFx0XHRcdFx0b2Zmc2V0Kys7XG5cdFx0XHRcdFx0XHRuZXh0UGFydCA9IHRleHRQYXJ0c1tvZmZzZXQgKyAxXTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR2YXIgc3RyaW5nVmFsdWUgPSBzdWJzdGl0dXRlZDtcblx0XHRcdFx0XHRcdHN1YnN0aXR1dGVkID0gXCJcIjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCF1blN1YnN0aXR1dGlvbnNbaV0oc3RyaW5nVmFsdWUsIHJlc3VsdCwgb3B0aW9ucy5zdHJpY3QpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIC8qdW5kZWZpbmVkKi87XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHRcdHRoaXMudmFyTmFtZXMgPSB2YXJOYW1lcztcblx0XHR0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG5cdH1cblx0VXJpVGVtcGxhdGUucHJvdG90eXBlID0ge1xuXHRcdHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy50ZW1wbGF0ZTtcblx0XHR9LFxuXHRcdGZpbGxGcm9tT2JqZWN0OiBmdW5jdGlvbiAob2JqKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5maWxsKG9iaik7XG5cdFx0fSxcblx0XHR0ZXN0OiBmdW5jdGlvbiAodXJpLCBvcHRpb25zKSB7XG5cdFx0XHRyZXR1cm4gISF0aGlzLmZyb21VcmkodXJpLCBvcHRpb25zKVxuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gVXJpVGVtcGxhdGU7XG59KTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/uri-templates/uri-templates.js\n");

/***/ })

};
;